# 桌面宠物使用指南

## 概述

桌面宠物是Flutter插件平台的一个特色功能，它可以在桌面上显示一个可爱的宠物伴侣，提供快速访问插件和系统功能的便捷方式。

## 支持的平台

- ✅ **Windows** - 完全支持所有功能
- ✅ **macOS** - 完全支持所有功能  
- ✅ **Linux** - 完全支持所有功能
- ❌ **Web** - 不支持（浏览器限制）
- ❌ **Mobile** - 不支持（移动平台限制）

## 功能特性

### 🐾 基本功能
- **独立窗口**: 桌面宠物运行在独立的小窗口中
- **始终置顶**: 宠物窗口始终显示在其他窗口之上
- **拖拽移动**: 可以通过拖拽移动宠物到桌面任意位置
- **透明背景**: 宠物窗口具有透明背景，融入桌面环境

### 🎨 视觉效果
- **呼吸动画**: 宠物会有轻微的呼吸动画效果
- **眨眼动画**: 随机的眨眼动画增加生动感
- **悬停效果**: 鼠标悬停时宠物会有颜色变化
- **拖拽反馈**: 拖拽时宠物会显示移动状态

### 🚀 交互功能
- **双击返回**: 双击宠物返回完整应用界面
- **右键菜单**: 右键点击显示快速操作菜单
- **插件启动**: 通过右键菜单快速启动插件
- **设置面板**: 自定义宠物外观和行为

## 使用方法

### 启动桌面宠物

1. **从主界面启动**:
   - 在主应用界面点击顶部工具栏的宠物图标 🐾
   - 或者使用快捷键（如果配置了的话）

2. **确认启动**:
   - 系统会显示桌面宠物功能介绍对话框
   - 点击"启用宠物模式"确认启动

3. **自动切换**:
   - 主应用窗口会自动隐藏
   - 桌面上会出现一个小的宠物窗口

### 基本操作

#### 移动宠物
- 直接拖拽宠物到想要的位置
- 宠物会跟随鼠标移动
- 释放鼠标后宠物停留在新位置

#### 返回主应用
- **双击宠物**: 最快的返回方式
- **右键菜单**: 选择"打开完整应用"
- **设置面板**: 通过设置面板的相关选项

#### 右键菜单功能
- **打开完整应用**: 返回主应用界面
- **快速启动插件**: 直接启动已安装的插件
- **宠物设置**: 打开宠物自定义设置
- **退出宠物模式**: 关闭宠物模式

### 自定义设置

#### 外观设置
- **透明度**: 调整宠物的透明度（30%-100%）
- **动画效果**: 开启/关闭呼吸和眨眼动画
- **交互响应**: 开启/关闭鼠标交互效果

#### 行为设置
- **自动隐藏**: 设置宠物在不活动时自动隐藏
- **启动位置**: 设置宠物的默认启动位置
- **快捷操作**: 自定义右键菜单的快捷操作

## 技术实现

### 窗口管理
桌面宠物使用 `window_manager` 包来实现：
- 创建独立的小窗口（默认200x200像素）
- 设置窗口始终置顶
- 隐藏窗口标题栏
- 设置窗口透明背景

### 状态管理
- 宠物状态通过 `DesktopPetManager` 管理
- 支持保存和恢复宠物偏好设置
- 与主应用状态同步

### 平台兼容性
- 自动检测平台支持情况
- 在不支持的平台上显示友好的提示信息
- 优雅降级到标准应用模式

## 故障排除

### 常见问题

#### 宠物无法启动
**问题**: 点击宠物图标后没有反应
**解决方案**:
1. 确认当前平台支持桌面宠物功能
2. 检查是否有其他应用占用窗口管理权限
3. 重启应用后重试

#### 宠物窗口无法移动
**问题**: 拖拽宠物时窗口不跟随移动
**解决方案**:
1. 确认交互功能已启用
2. 检查系统是否限制了窗口移动权限
3. 尝试重新启动宠物模式

#### 宠物显示异常
**问题**: 宠物显示不完整或有视觉问题
**解决方案**:
1. 调整透明度设置
2. 重置宠物设置到默认值
3. 检查显卡驱动是否最新

### 性能优化

#### 减少资源占用
- 在不需要时关闭动画效果
- 适当调整宠物窗口大小
- 定期清理宠物缓存数据

#### 提升响应速度
- 确保系统有足够的可用内存
- 关闭不必要的后台应用
- 使用SSD存储提升IO性能

## 开发者信息

### API接口
桌面宠物功能通过以下主要类实现：
- `DesktopPetManager`: 核心管理类
- `DesktopPetWidget`: UI组件
- `DesktopPetScreen`: 主屏幕
- `DesktopPetLauncher`: 启动器

### 扩展开发
开发者可以通过以下方式扩展桌面宠物功能：
- 自定义宠物外观主题
- 添加新的交互动画
- 集成更多快捷操作
- 开发宠物插件系统

## 更新日志

### v1.0.0 (当前版本)
- ✨ 初始版本发布
- ✨ 基本的桌面宠物功能
- ✨ 窗口管理和交互
- ✨ 自定义设置面板
- ✨ 跨平台兼容性检测

### 计划功能
- 🔄 多宠物支持
- 🔄 宠物皮肤系统
- 🔄 语音交互功能
- 🔄 智能提醒功能
- 🔄 宠物社交功能

---

**提示**: 桌面宠物功能仍在持续改进中，如果遇到问题或有建议，欢迎通过GitHub Issues反馈。